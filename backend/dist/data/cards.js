"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EVENT_DECK = exports.BUENOSOS_DECK = exports.MALOSOS_DECK = exports.ALL_CARDS = exports.EVENT_CARDS = exports.BUENOSOS_CARDS = exports.MALOSOS_CARDS = void 0;
exports.getCard = getCard;
// ============================================================
// MAZO MALOSOS (18 cartas: M01-M18)
// ============================================================
exports.MALOSOS_CARDS = [
    // --- FASE / PREPARACION (6) ---
    {
        id: 'M01',
        name: 'OSINT y mapeo de dependencias',
        side: 'MALOSOS',
        category: 'RECON',
        subtype: 'Reconocimiento',
        cost: 2,
        requirements: [],
        targeting: 'any',
        effects: [
            { type: 'markCampaignPhase', phase: 'RECON' },
            { type: 'damageInt', amount: 1, targetType: 'any' },
        ],
        duration: 'permanent',
        isHighImpact: false,
    },
    {
        id: 'M02',
        name: 'Acceso inicial por credenciales',
        side: 'MALOSOS',
        category: 'ACCESS',
        subtype: 'Acceso',
        cost: 3,
        requirements: ['RECON'],
        targeting: 'digital',
        effects: [
            { type: 'markCampaignPhase', phase: 'ACCESS' },
            { type: 'setState', state: 'DEGRADED' },
            { type: 'damageInt', amount: 2 },
        ],
        duration: 'permanent',
        isHighImpact: false,
    },
    {
        id: 'M03',
        name: 'Acceso por tercero (proveedor)',
        side: 'MALOSOS',
        category: 'ACCESS',
        subtype: 'Acceso / Supply chain',
        cost: 3,
        requirements: ['RECON'],
        targeting: 'supply_chain',
        effects: [
            { type: 'damageInt', amount: 3 },
            { type: 'setStateIfAlready', currentState: 'DEGRADED', newState: 'INTERMITTENT' },
        ],
        duration: 'immediate',
        isHighImpact: false,
    },
    {
        id: 'M04',
        name: 'Persistencia silenciosa',
        side: 'MALOSOS',
        category: 'PERSISTENCE',
        subtype: 'Persistencia',
        cost: 2,
        requirements: ['ACCESS'],
        targeting: undefined,
        effects: [
            { type: 'markCampaignPhase', phase: 'PERSISTENCE' },
            { type: 'addBudgetModifier', side: 'BUENOSOS', amount: 1, targetCategory: 'DETECTION_RESPONSE', duration: 'turn' },
        ],
        duration: 'permanent',
        isHighImpact: false,
    },
    {
        id: 'M05',
        name: 'Movimiento lateral',
        side: 'MALOSOS',
        category: 'LATERAL_MOVEMENT',
        subtype: 'Movimiento Lateral',
        cost: 3,
        requirements: ['PERSISTENCE'],
        targeting: 'connected_pair',
        effects: [
            { type: 'markCampaignPhase', phase: 'LATERAL_MOVEMENT' },
            { type: 'damageInt', amount: 1, targetAll: true },
            { type: 'setStateIfAlready', currentState: 'DEGRADED', newState: 'INTERMITTENT' },
        ],
        duration: 'permanent',
        isHighImpact: false,
    },
    {
        id: 'M06',
        name: 'Coordinacion hibrida (ciber + fisico)',
        side: 'MALOSOS',
        category: 'RESOURCE',
        subtype: 'Recurso',
        cost: 2,
        requirements: [],
        targeting: undefined,
        effects: [
            { type: 'addTempEffect', effectType: 'hybridBonus', value: 1, targetType: 'physical', duration: 'turn' },
        ],
        duration: 'turn',
        isHighImpact: false,
    },
    // --- IMPACTO (8) ---
    {
        id: 'M07',
        name: 'DDoS focalizado',
        side: 'MALOSOS',
        category: 'IMPACT',
        subtype: 'Impacto',
        cost: 3,
        requirements: ['ACCESS'],
        targeting: 'digital',
        effects: [
            { type: 'setState', state: 'INTERMITTENT' },
            { type: 'damageInt', amount: 2 },
        ],
        duration: 'immediate',
        isHighImpact: false,
    },
    {
        id: 'M08',
        name: 'Interrupcion de troncal (Backhaul)',
        side: 'MALOSOS',
        category: 'IMPACT_ALTO',
        subtype: 'Impacto Alto',
        cost: 5,
        requirements: ['LATERAL_MOVEMENT'],
        targeting: 'S6',
        effects: [
            { type: 'damageInt', amount: 5, targetId: 'S6' },
            { type: 'setStateIfInt0', state: 'DOWN', targetId: 'S6' },
        ],
        duration: 'immediate',
        isHighImpact: true,
    },
    {
        id: 'M09',
        name: 'Interrupcion de distribucion electrica',
        side: 'MALOSOS',
        category: 'IMPACT_ALTO',
        subtype: 'Impacto Alto',
        cost: 5,
        requirements: ['LATERAL_MOVEMENT'],
        targeting: 'S5',
        effects: [
            { type: 'damageInt', amount: 5, targetId: 'S5' },
            { type: 'setStateIfInt0', state: 'DOWN', targetId: 'S5' },
            { type: 'conditionalDamage', condition: 'targetDown', conditionTargetId: 'S5', victims: ['S6', 'S7'], amount: 2 },
        ],
        duration: 'immediate',
        isHighImpact: true,
    },
    {
        id: 'M10',
        name: 'Ataque a DNS (indisponibilidad)',
        side: 'MALOSOS',
        category: 'IMPACT',
        subtype: 'Impacto',
        cost: 4,
        requirements: ['ACCESS'],
        targeting: 'S9',
        effects: [
            { type: 'damageInt', amount: 4, targetId: 'S9' },
            { type: 'setStateIfAlready', currentState: 'DEGRADED', newState: 'INTERMITTENT', targetId: 'S9' },
        ],
        duration: 'immediate',
        isHighImpact: false,
    },
    {
        id: 'M11',
        name: 'Presion sobre pagos (fraude/indisponibilidad)',
        side: 'MALOSOS',
        category: 'IMPACT',
        subtype: 'Impacto',
        cost: 4,
        requirements: ['ACCESS'],
        targeting: 'S10',
        effects: [
            { type: 'damageInt', amount: 3, targetId: 'S10' },
            { type: 'modifyTrust', amount: -3 },
        ],
        duration: 'immediate',
        isHighImpact: false,
    },
    {
        id: 'M12',
        name: 'Sabotaje logistico (carreteras)',
        side: 'MALOSOS',
        category: 'IMPACT',
        subtype: 'Impacto',
        cost: 4,
        requirements: ['RECON'],
        targeting: 'S11',
        effects: [
            { type: 'setState', state: 'DEGRADED', targetId: 'S11' },
            { type: 'damageInt', amount: 3, targetId: 'S11' },
        ],
        duration: 'immediate',
        isHighImpact: false,
    },
    {
        id: 'M13',
        name: 'Choque de combustibles (terminales)',
        side: 'MALOSOS',
        category: 'IMPACT',
        subtype: 'Impacto',
        cost: 4,
        requirements: ['RECON'],
        targeting: 'S2',
        effects: [
            { type: 'damageInt', amount: 3, targetId: 'S2' },
            { type: 'setStateIfCondition', condition: 'S11DegradedOrWorse', newState: 'INTERMITTENT', targetId: 'S2' },
        ],
        duration: 'immediate',
        isHighImpact: false,
    },
    {
        id: 'M14',
        name: 'Paro operativo en refinerias',
        side: 'MALOSOS',
        category: 'IMPACT_ALTO',
        subtype: 'Impacto Alto',
        cost: 5,
        requirements: ['LATERAL_MOVEMENT'],
        targeting: 'S1',
        effects: [
            { type: 'damageInt', amount: 5, targetId: 'S1' },
            { type: 'setStateIfInt0', state: 'DOWN', targetId: 'S1' },
            { type: 'conditionalDamage', condition: 'targetDown', conditionTargetId: 'S1', victims: ['S2'], amount: 2 },
        ],
        duration: 'immediate',
        isHighImpact: true,
    },
    // --- EFECTOS SOCIALES (4) ---
    {
        id: 'M15',
        name: 'Campana de desinformacion',
        side: 'MALOSOS',
        category: 'SOCIAL',
        subtype: 'Impacto Social',
        cost: 3,
        requirements: [],
        targeting: undefined,
        effects: [
            { type: 'modifyTrust', amount: -6 },
            { type: 'conditionalTrust', condition: 'S7orS10IntermittentOrDown', amount: -3 },
        ],
        duration: 'immediate',
        isHighImpact: false,
    },
    {
        id: 'M16',
        name: 'Extorsion y panico',
        side: 'MALOSOS',
        category: 'SOCIAL',
        subtype: 'Impacto Social',
        cost: 3,
        requirements: ['2_SERVICES_DEGRADED_OR_WORSE'],
        targeting: undefined,
        effects: [
            { type: 'modifyStability', amount: -5 },
            { type: 'discardOpponentCard', opponent: 'BUENOSOS', count: 1, mode: 'random' },
        ],
        duration: 'immediate',
        isHighImpact: true,
    },
    {
        id: 'M17',
        name: 'Distraccion multiple',
        side: 'MALOSOS',
        category: 'RESOURCE',
        subtype: 'Recurso',
        cost: 2,
        requirements: [],
        targeting: undefined,
        effects: [
            { type: 'addTempEffect', effectType: 'limitDetectionResponse', value: 1, side: 'BUENOSOS', duration: 'turn' },
        ],
        duration: 'turn',
        isHighImpact: false,
    },
    {
        id: 'M18',
        name: 'Insider oportunista',
        side: 'MALOSOS',
        category: 'RESOURCE',
        subtype: 'Recurso',
        cost: 3,
        requirements: [],
        targeting: 'any',
        effects: [
            { type: 'addTempEffect', effectType: 'ignoreDamageReduction', targetType: 'service', duration: 'turn' },
        ],
        duration: 'turn',
        isHighImpact: false,
    },
];
// ============================================================
// MAZO BUENOSOS (18 cartas: B01-B18)
// ============================================================
exports.BUENOSOS_CARDS = [
    // --- PREVENCION (6) ---
    {
        id: 'B01',
        name: 'Segmentacion y zonas criticas',
        side: 'BUENOSOS',
        category: 'PREVENTION',
        subtype: 'Prevencion',
        cost: 3,
        requirements: [],
        targeting: 'any',
        effects: [
            {
                type: 'addTempEffect',
                effectType: 'cancelFirstIntermittent',
                duration: 'game',
            },
        ],
        duration: 'game',
        isHighImpact: false,
    },
    {
        id: 'B02',
        name: 'Gestion de cambios controlada',
        side: 'BUENOSOS',
        category: 'PREVENTION',
        subtype: 'Prevencion',
        cost: 2,
        requirements: [],
        targeting: undefined,
        effects: [
            { type: 'addTempEffect', effectType: 'damageReductionNext', value: 1, highImpactBonus: 1, duration: 'turn' },
        ],
        duration: 'turn',
        isHighImpact: false,
    },
    {
        id: 'B03',
        name: 'Redundancia minima viable',
        side: 'BUENOSOS',
        category: 'PREVENTION',
        subtype: 'Prevencion',
        cost: 3,
        requirements: [],
        targeting: 'any',
        effects: [
            { type: 'addTempEffect', effectType: 'redundancyProtection', duration: 'game' },
        ],
        duration: 'game',
        isHighImpact: false,
    },
    {
        id: 'B04',
        name: 'Hardening operacional',
        side: 'BUENOSOS',
        category: 'PREVENTION',
        subtype: 'Prevencion',
        cost: 2,
        requirements: [],
        targeting: 'any',
        effects: [
            { type: 'addTempEffect', effectType: 'damageReductionService', value: 2, duration: 'turn' },
        ],
        duration: 'turn',
        isHighImpact: false,
    },
    {
        id: 'B05',
        name: 'MFA/Controles de acceso',
        side: 'BUENOSOS',
        category: 'PREVENTION',
        subtype: 'Prevencion',
        cost: 3,
        requirements: [],
        targeting: undefined,
        effects: [
            { type: 'addTempEffect', effectType: 'blockAccessCards', duration: 'turn' },
        ],
        duration: 'turn',
        isHighImpact: false,
    },
    {
        id: 'B06',
        name: 'Gestion de proveedores',
        side: 'BUENOSOS',
        category: 'PREVENTION',
        subtype: 'Prevencion',
        cost: 3,
        requirements: [],
        targeting: undefined,
        effects: [
            { type: 'addTempEffect', effectType: 'reduceSupplyChainDamage', value: 2, duration: 'turn' },
        ],
        duration: 'turn',
        isHighImpact: false,
    },
    // --- DETECCION/RESPUESTA (5) ---
    {
        id: 'B07',
        name: 'Monitoreo reforzado (SOC)',
        side: 'BUENOSOS',
        category: 'DETECTION_RESPONSE',
        subtype: 'Deteccion/Respuesta',
        cost: 2,
        requirements: [],
        targeting: 'any',
        effects: [
            { type: 'addTempEffect', effectType: 'socMonitoring', budgetPenalty: 1, damageReduction: 1, duration: 'turn' },
        ],
        duration: 'turn',
        isHighImpact: false,
    },
    {
        id: 'B08',
        name: 'Contencion rapida',
        side: 'BUENOSOS',
        category: 'DETECTION_RESPONSE',
        subtype: 'Deteccion/Respuesta',
        cost: 3,
        requirements: [],
        targeting: 'intermittent',
        effects: [
            { type: 'addTempEffect', effectType: 'blockIntermittentPropagation', duration: 'turn' },
        ],
        duration: 'turn',
        isHighImpact: false,
    },
    {
        id: 'B09',
        name: 'Aislamiento de incidente',
        side: 'BUENOSOS',
        category: 'DETECTION_RESPONSE',
        subtype: 'Deteccion/Respuesta',
        cost: 3,
        requirements: [],
        targeting: 'connected_pair',
        effects: [
            { type: 'addTempEffect', effectType: 'ignoreCascadeEdge', duration: 'turn' },
        ],
        duration: 'turn',
        isHighImpact: false,
    },
    {
        id: 'B10',
        name: 'CSIRT activado (runbook de contencion)',
        side: 'BUENOSOS',
        category: 'DETECTION_RESPONSE',
        subtype: 'Deteccion/Respuesta',
        cost: 4,
        requirements: [],
        targeting: undefined,
        effects: [
            { type: 'addTempEffect', effectType: 'cancelSecondaryEffect', duration: 'turn' },
        ],
        duration: 'turn',
        isHighImpact: false,
    },
    {
        id: 'B11',
        name: 'Busqueda y erradicacion',
        side: 'BUENOSOS',
        category: 'DETECTION_RESPONSE',
        subtype: 'Deteccion/Respuesta',
        cost: 4,
        requirements: ['PREV_DETECTION'],
        targeting: undefined,
        effects: [
            { type: 'rollbackCampaignPhase', choices: ['PERSISTENCE', 'LATERAL_MOVEMENT'] },
        ],
        duration: 'immediate',
        isHighImpact: false,
    },
    // --- DRP (4) ---
    {
        id: 'B12',
        name: 'Backups verificados (prueba incluida)',
        side: 'BUENOSOS',
        category: 'DRP',
        subtype: 'DRP',
        cost: 3,
        requirements: [],
        targeting: 'any',
        effects: [
            { type: 'setBackupsVerified', value: true },
            { type: 'healInt', amount: 3, capToIntMax: true },
        ],
        duration: 'immediate',
        isHighImpact: false,
    },
    {
        id: 'B13',
        name: 'Restore controlado',
        side: 'BUENOSOS',
        category: 'DRP',
        subtype: 'DRP',
        cost: 4,
        requirements: ['BACKUPS_VERIFIED'],
        targeting: 'down',
        effects: [
            { type: 'setState', state: 'DEGRADED' },
            { type: 'setInt', value: 6 },
        ],
        duration: 'immediate',
        isHighImpact: false,
    },
    {
        id: 'B14',
        name: 'Failover a sitio alterno',
        side: 'BUENOSOS',
        category: 'DRP',
        subtype: 'DRP',
        cost: 5,
        requirements: [],
        targeting: 'digital_down',
        effects: [
            { type: 'setState', state: 'INTERMITTENT' },
            { type: 'setInt', value: 8 },
        ],
        duration: 'immediate',
        isHighImpact: false,
    },
    {
        id: 'B15',
        name: 'Runbook automatizado',
        side: 'BUENOSOS',
        category: 'DRP',
        subtype: 'DRP',
        cost: 3,
        requirements: [],
        targeting: undefined,
        effects: [
            { type: 'addTempEffect', effectType: 'drpCostReduction', value: 1, duration: 'game' },
        ],
        duration: 'game',
        isHighImpact: false,
    },
    // --- BCP (3) ---
    {
        id: 'B16',
        name: 'Operacion manual temporal',
        side: 'BUENOSOS',
        category: 'BCP',
        subtype: 'BCP',
        cost: 3,
        requirements: [],
        targeting: 'citizen',
        effects: [
            { type: 'addTempEffect', effectType: 'bcpManualOp', duration: 'turn' },
        ],
        duration: 'turn',
        isHighImpact: false,
    },
    {
        id: 'B17',
        name: 'Priorizacion de servicios esenciales',
        side: 'BUENOSOS',
        category: 'BCP',
        subtype: 'BCP',
        cost: 3,
        requirements: [],
        targeting: 'any_pair',
        effects: [
            { type: 'addTempEffect', effectType: 'bcpPrioritization', duration: 'turn' },
        ],
        duration: 'turn',
        isHighImpact: false,
    },
    {
        id: 'B18',
        name: 'Comunicacion de crisis',
        side: 'BUENOSOS',
        category: 'BCP',
        subtype: 'BCP',
        cost: 2,
        requirements: [],
        targeting: undefined,
        effects: [
            { type: 'modifyTrust', amount: 6 },
            { type: 'addTempEffect', effectType: 'ignoreTrustPenalty', duration: 'turn' },
        ],
        duration: 'immediate',
        isHighImpact: false,
    },
];
// ============================================================
// MAZO DE EVENTOS (8 cartas: E01-E08)
// ============================================================
exports.EVENT_CARDS = [
    {
        id: 'E01',
        name: 'Evento solar severo (rarisimo)',
        side: 'EVENT',
        category: 'TAIL_RISK',
        subtype: 'Tail Risk',
        cost: 0,
        requirements: [],
        targeting: undefined,
        effects: [
            {
                type: 'eventActivation',
                condition: 'turn>=5',
                ifTrue: [
                    { type: 'setState', state: 'INTERMITTENT', targetId: 'S6' },
                    { type: 'damageInt', amount: 2, targetId: 'S6' },
                    { type: 'setState', state: 'INTERMITTENT', targetId: 'S7' },
                    { type: 'damageInt', amount: 2, targetId: 'S7' },
                ],
                ifFalse: [{ type: 'setLatent', activationTurn: 5 }],
            },
        ],
        duration: 'immediate',
        isHighImpact: true,
    },
    {
        id: 'E02',
        name: 'Falla regional de energia prolongada',
        side: 'EVENT',
        category: 'TAIL_RISK',
        subtype: 'Tail Risk',
        cost: 0,
        requirements: [],
        targeting: undefined,
        effects: [
            { type: 'damageInt', amount: 2, targetId: 'S4' },
            { type: 'damageInt', amount: 2, targetId: 'S5' },
            { type: 'setStateIfAlready', currentState: 'DEGRADED', newState: 'INTERMITTENT', targetId: 'S4' },
            { type: 'setStateIfAlready', currentState: 'DEGRADED', newState: 'INTERMITTENT', targetId: 'S5' },
        ],
        duration: 'immediate',
        isHighImpact: true,
    },
    {
        id: 'E03',
        name: 'Corte fisico multiple (fibra)',
        side: 'EVENT',
        category: 'TAIL_RISK',
        subtype: 'Tail Risk',
        cost: 0,
        requirements: [],
        targeting: undefined,
        effects: [
            {
                type: 'eventActivation',
                condition: 'S11DegradedOrWorse',
                ifTrue: [{ type: 'damageInt', amount: 3, targetId: 'S6' }],
                ifFalse: [],
            },
        ],
        duration: 'immediate',
        isHighImpact: true,
    },
    {
        id: 'E04',
        name: 'Choque de combustibles (cadena)',
        side: 'EVENT',
        category: 'TAIL_RISK',
        subtype: 'Tail Risk',
        cost: 0,
        requirements: [],
        targeting: undefined,
        effects: [
            { type: 'damageInt', amount: 2, targetId: 'S2' },
            { type: 'setStateIfCondition', condition: 'S1DegradedOrWorse', newState: 'INTERMITTENT', targetId: 'S2' },
        ],
        duration: 'immediate',
        isHighImpact: true,
    },
    {
        id: 'E05',
        name: 'Crisis de comunicacion publica',
        side: 'EVENT',
        category: 'TAIL_RISK',
        subtype: 'Tail Risk',
        cost: 0,
        requirements: [],
        targeting: undefined,
        effects: [
            {
                type: 'eventActivation',
                condition: 'S7orS10DegradedOrWorse',
                ifTrue: [{ type: 'modifyTrust', amount: -6 }],
                ifFalse: [],
            },
        ],
        duration: 'immediate',
        isHighImpact: true,
    },
    {
        id: 'E06',
        name: 'Fallo de proveedor critico',
        side: 'EVENT',
        category: 'TAIL_RISK',
        subtype: 'Tail Risk',
        cost: 0,
        requirements: [],
        targeting: undefined,
        effects: [
            { type: 'damageInt', amount: 2, targetId: 'S8' },
            { type: 'setStateIfAlready', currentState: 'DEGRADED', newState: 'INTERMITTENT', targetId: 'S8' },
        ],
        duration: 'immediate',
        isHighImpact: true,
    },
    {
        id: 'E07',
        name: 'Incidente en puertos/aduanas',
        side: 'EVENT',
        category: 'TAIL_RISK',
        subtype: 'Tail Risk',
        cost: 0,
        requirements: [],
        targeting: undefined,
        effects: [
            {
                type: 'eventActivation',
                condition: 'S12DegradedOrWorse',
                ifTrue: [{ type: 'modifyStability', amount: -5 }],
                ifFalse: [],
            },
        ],
        duration: 'immediate',
        isHighImpact: true,
    },
    {
        id: 'E08',
        name: 'Respuesta coordinada excepcional',
        side: 'EVENT',
        category: 'TAIL_RISK',
        subtype: 'Tail Risk',
        cost: 0,
        requirements: [],
        targeting: undefined,
        effects: [
            { type: 'addTempEffect', effectType: 'freeCardPlay', side: 'BUENOSOS', count: 1, duration: 'turn' },
        ],
        duration: 'turn',
        isHighImpact: false,
    },
];
// ============================================================
// COLECCIONES EXPORTADAS
// ============================================================
exports.ALL_CARDS = [...exports.MALOSOS_CARDS, ...exports.BUENOSOS_CARDS, ...exports.EVENT_CARDS];
exports.MALOSOS_DECK = [...exports.MALOSOS_CARDS];
exports.BUENOSOS_DECK = [...exports.BUENOSOS_CARDS];
exports.EVENT_DECK = [...exports.EVENT_CARDS];
const CARD_MAP = new Map(exports.ALL_CARDS.map((c) => [c.id, c]));
function getCard(id) {
    return CARD_MAP.get(id);
}
//# sourceMappingURL=cards.js.map